#!/bin/bash
# –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Open-with-chooser –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
set -e

echo "üöÄ –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Open-with-chooser"
echo "======================================"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
if [ ! -f "open-with-chooser.py" ] || [ ! -f "install.sh" ]; then
    echo "‚ùå –§–∞–π–ª—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –≤ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏"
    echo "–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å —Ñ–∞–π–ª–∞–º–∏:"
    echo "  ‚Ä¢ open-with-chooser.py"
    echo "  ‚Ä¢ install.sh"
    exit 1
fi

# –î–µ–ª–∞–µ–º —É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x install.sh

# –ó–∞–ø—É—Å–∫–∞–µ–º —É—Å—Ç–∞–Ω–æ–≤–∫—É
echo "‚ñ∂Ô∏è  –ó–∞–ø—É—Å–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏..."
./install.sh

echo
echo "üéØ –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏..."

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø—Ä–æ—Å—Ç—ã–º URL
if command -v open-with-chooser >/dev/null 2>&1; then
    echo "‚úÖ –ö–æ–º–∞–Ω–¥–∞ open-with-chooser –¥–æ—Å—Ç—É–ø–Ω–∞"
    echo "üí° –¢–µ—Å—Ç: open-with-chooser --help"
else
    echo "‚ö†Ô∏è  –ö–æ–º–∞–Ω–¥–∞ open-with-chooser –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞"
    echo "   –í–æ–∑–º–æ–∂–Ω–æ, —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞"
fi

echo
echo "üèÅ –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!"
echo "üìö –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ø—Ä–æ–±—É–π—Ç–µ:"
echo "   open-with-chooser https://example.com"
